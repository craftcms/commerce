<ul>
    {% for key, source in sources %}
        {% if source.heading is defined %}
            <li class="heading"><span>{{ source.heading }}</span></li>
        {% else %}
            <li>
                <a data-key="{{ source.key is defined ? source.key : key }}"
                        {% if source.statusColor is defined and source.statusColor %}statusSource{% endif %}
                        {%- if source.hasThumbs is defined and source.hasThumbs %} data-has-thumbs{% endif %}
                        {%- if source.structureId is defined and source.structureId %} data-has-structure{% endif %}
                        {%- if source.defaultSort is defined %}{% set defaultSort = source.defaultSort %} data-default-sort="{{ defaultSort is iterable ? defaultSort|join(':') : defaultSort }}"{% endif %}
                        {%- if source.data is defined -%}
                            {% for dataKey, dataVal in source.data %} data-{{ dataKey }}="{{ dataVal }}"{% endfor %}
                        {%- endif -%}
                        >{% if source.statusColor is defined and source.statusColor %}<span class="commerce status {{ source.statusColor }}"></span>{% endif %}{{ source.label }}</a>
                {% if source.nested is defined and source.nested is not empty %}
                    <div class="toggle"></div>
                    {% include "_elements/sources" with {
                    sources: source.nested
                    } %}
                {% endif %}
            </li>
        {% endif %}
    {% endfor %}
</ul>
