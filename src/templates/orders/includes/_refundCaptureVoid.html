{% if actions %}
  <form method="post">
    {{ csrfInput() }}
    {% if 'capture' in actions and currentUser.can('commerce-capturePayment') and transaction.canCapture() %}
        <a class="small btn submit formsubmit"
           data-action="commerce/orders/transaction-capture"
           data-confirm="{{ 'Are you sure you want to capture this transaction?'|t('commerce') }}"
           data-redirect="{{ transaction.order.cpEditUrl|hash }}"
           data-param="id"
           data-value="{{ transaction.id }}">{{ 'Capture'|t('commerce') }}</a>
    {% endif %}
    {% if 'void' in actions and currentUser.can('commerce-voidPayment') and transaction.canVoid() %}
        <a class="small btn submit formsubmit"
           data-action="commerce/orders/transaction-void"
           data-confirm="{{ 'Are you sure you want to void this transaction?'|t('commerce') }}"
           data-redirect="{{ transaction.order.cpEditUrl|hash }}"
           data-param="id"
           data-value="{{ transaction.id }}">{{ 'Void'|t('commerce') }}</a>
    {% endif %}
    {% if 'refund' in actions and currentUser.can('commerce-refundPayment') and transaction.canRefund() %}
        {% import "_includes/forms" as forms %}
        {{ forms.text({
          id: 'amount',
          size: 10,
          name: 'amount',
          placeholder: transaction.paymentCurrency~' '~transaction.refundableAmount
        }) }}
        {{ forms.text({
          id: 'note',
          size: 20,
          name: 'note',
          value: transaction.note,
          placeholder: 'Refund Note'
        }) }}
        <a class="small btn submit formsubmit"
           data-action="commerce/orders/transaction-refund"
           data-confirm="{{ 'Are you sure you want to refund this transaction?'|t('commerce') }}"
           data-redirect="{{ transaction.order.cpEditUrl|hash }}"
           data-param="id"
           data-value="{{ transaction.id }}">{{ 'Refund'|t('commerce') }}</a>
    {% endif %}
  </form>
{% endif %}
