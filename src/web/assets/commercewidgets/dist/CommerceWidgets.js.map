{"version":3,"file":"CommerceWidgets.js","mappings":"kPAG8C,cAA1C,EAAOA,MAAMC,YACfD,MAAMC,SAAW,CAAC,GAIpBD,MAAMC,SAASC,gBAAkB,CAC/BC,oBAAqB,SAAUC,EAASC,GACtC,IAAMC,EAAoBC,EAAE,IAAD,OACrBF,EAAW,wDAGjB,GAAKC,EAAL,CAKA,IAAME,EAAYF,EAAkB,GAAGE,UAGvCR,MAAMS,kBACJ,MACA,6CACA,CAACC,OAAQ,CAACN,QAAAA,KAETO,MAAK,SAACC,GACiBA,EAASC,KAAKC,cACpCN,EAAUO,OAAM,GAChBP,EAAUQ,cAAa,GAEvBJ,EAASC,KAAKC,cAAcG,SAAQ,SAACC,GACnCV,EAAUW,UAAU,CAClBC,KAAMF,EAAYG,KAClBC,MAAOJ,EAAYK,IACnBC,OAAQN,EAAYO,OAExB,IAEAjB,EAAUkB,gBAAe,EAC3B,IAAE,OACK,SAACC,GACN3B,MAAM4B,GAAGC,aAAaF,EACxB,GA3BF,MAFE3B,MAAM4B,GAAGC,aAAa,qCA8B1B,E","sources":["webpack:///./CommerceWidgets.js"],"sourcesContent":["/* jshint esversion: 6 */\n/* globals Craft, Garnish, $, htmx */\n\nif (typeof Craft.Commerce === typeof undefined) {\n  Craft.Commerce = {};\n}\n\n// Instantiate the CommerceWidgets as a global object\nCraft.Commerce.CommerceWidgets = {\n  updateOrderStatuses: function (storeId, selectizeId) {\n    const $selectizeElement = $(\n      `#${selectizeId} [data-attribute=\"orderStatuses\"] .selectize select`\n    );\n\n    if (!$selectizeElement) {\n      Craft.cp.displayError('Could not find order status field.');\n      return;\n    }\n\n    const selectize = $selectizeElement[0].selectize;\n\n    // Retrieve the order statuses for the store\n    Craft.sendActionRequest(\n      'get',\n      'commerce/order-statuses/get-order-statuses',\n      {params: {storeId}}\n    )\n      .then((response) => {\n        const orderStatuses = response.data.orderStatuses;\n        selectize.clear(true);\n        selectize.clearOptions(true);\n\n        response.data.orderStatuses.forEach((orderStatus) => {\n          selectize.addOption({\n            text: orderStatus.name,\n            value: orderStatus.uid,\n            status: orderStatus.color,\n          });\n        });\n\n        selectize.refreshOptions(false);\n      })\n      .catch((error) => {\n        Craft.cp.displayError(error);\n      });\n  },\n};\n"],"names":["Craft","Commerce","CommerceWidgets","updateOrderStatuses","storeId","selectizeId","$selectizeElement","$","selectize","sendActionRequest","params","then","response","data","orderStatuses","clear","clearOptions","forEach","orderStatus","addOption","text","name","value","uid","status","color","refreshOptions","error","cp","displayError"],"sourceRoot":""}